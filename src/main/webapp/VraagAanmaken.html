<!DOCTYPE html>
<html>
<body>

	<h1>Vraag Aanmaken</h1>

	<form id="POSTvraagmakenForm">
		Vraag: <br> <input type="text" id="vraag"> <br>
		Juiste antwoord: <br> <input type="text" id="juisteAntwoord">
		<br> Foute antwoorden: <br>
		<input type="text" id="foutEen"> <input type="text"
			id="foutTwee"> <input type="text" id="foutDrie"> <br>
		<input type="button" id="post" value="Maak vraag!"/>
	</form>


	<form id="POSTvraagAanpassenForm">
		VraagID: <br> <input type="text" id="vraag"
			value="Voer een vraagID in"> <input type="button"
			id="getVraag" value="Zoek Vraag"/><br>
		Vraag: <br> <input type="text" id="vraag"
			value="Voer eerst een vraagID in"> <br> Juiste antwoord:
		<br> <input type="text" id="juisteAntwoord"
			value="Voer eerst een vraagID in"> <br> Foute
		antwoorden: <br>
		<input type="text" id="foutEen" value="Voer eerst een vraagID in">
		<input type="text" id="foutTwee" value="Voer eerst een vraagID in">
		<input type="text" id="foutDrie" value="Voer eerst een vraagID in">
		<br> <input type="button" id="post" value="Pas vraag aan!"/>
	</form>


	<form action="Startscherm.html">
		<input type="submit" value="Terug" />
	</form>



	<script>
		document
				.querySelector("#post")
				.addEventListener(
						"click",
						function() {
							var url = "api/vragen/maak";
							var data = {
								"antwoorden" : [
										{
											"antwoordText" : document
													.getElementById("juisteAntwoord").value,
											"correct_jn" : "J"
										},
										{
											"antwoordText" : document
													.getElementById("foutEen").value,
											"correct_jn" : "N"
										},
										{
											"antwoordText" : document
													.getElementById("foutTwee").value,
											"correct_jn" : "N"
										},
										{
											"antwoordText" : document
													.getElementById("foutDrie").value,
											"correct_jn" : "N"
										} ],
								"vraagText" : document.getElementById("vraag").value
							};
							fetch(url, {
								method : 'POST', // or 'PUT'
								body : JSON.stringify(data), // data can be `string` or {object}!
								headers : {
									'Content-Type' : 'application/json'
								}
							})
						})

		function zoekVraag() {
			xhr = new XMLHttpRequest();
			var url = "http://localhost:8080/triviacouch/api/vragen/aanpassen";
			xhr.open("POST", url, true);
			xhr.setRequestHeader("Content-type", "application/json");
			xhr.onreadystatechange = function() {
				if (xhr.readyState == 4 && xhr.status == 200) {
					var json = JSON.parse(xhr.responseText);
					console.log(json.email + ", " + json.name)
				}
			}
			var data = JSON.stringify({
				"vraagID" : document.getElementById("getVraag").value
			})
			xhr.send(data);
		}
	</script>
</body>
</html>

